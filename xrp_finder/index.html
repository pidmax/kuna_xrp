<html>
<head>
	<title>XRP Finder</title>
	<script type="text/javascript" src="script.js"></script>
</head>
<body>
	<script type="text/javascript">
	var olds = [];
	var news = [];
	var i = 0;
	var f = 0;
	var seconds = 30;
	var remain = seconds;
	setInterval(function(){
		remain-=0.1;
		if (remain<=0) {
			remain = seconds;
			i++;
		document.getElementById('progress').innerHTML = "Iteration: "+i + "<br>Found: " + f;
		news = getValids();
		news.forEach(function(el){
			if (!olds.includes(el)) {
				olds.push(el);
				console.log (olds.includes(el));
				new Audio('https://pidmax.github.io/xrp/found.mp3').play();
				window.open('https://xrpcharts.ripple.com/#/transactions/'+el,'_blank');
				f++;
			}
		});
		};
		document.getElementById('timer').innerHTML = "Remain: "+ remain.toFixed(1) + "s";
		document.getElementById('innerBar').style.width = seconds/remain*100 + "%";
	},100);
	</script>
	<div id="progress"></div>
	<div id="timer"></div>
	<div id="bar" style="width:200px;height:25px"><div id="innerBar" style="background-color:black;width:100%"></div></div>
</body>
</html>